import{_ as I,r as x,o as z,a as L,b as _,c as U,d as j,e as l,f as y,g,w as k,u as X,E as w,h as $,p as G,i as W}from"./index-79b7c4be.js";function p(c,i="",e="/"){if(!c)return;const f=JSON.parse(JSON.stringify(c)),r=new Date(f);let t=r.getMonth()+1;t=t>=10?t:"0"+t;let s=r.getDate();s=s>=10?s:"0"+s;let o=r.getHours();o=o>=10?o:"0"+o;let a=r.getMinutes();a=a>=10?a:"0"+a;let n=r.getSeconds();return n=n>=10?n:"0"+n,i=="date"?`${r.getFullYear()}${e}${t}${e}${s}`:i=="time"?`${o}:${a}:${n}`:i=="timeHM"?`${o}:${a}`:`${r.getFullYear()}${e}${t}${e}${s} ${o}:${a}:${n}`}function N({lng:c,lat:i}){if(!c||!i)return;const e="AIzaSyDfLGBgjMGYMfL4YuzgGCNztBHbniJlQ1A",f=Math.floor(Date.now()/1e3),r=`https://maps.googleapis.com/maps/api/timezone/json?location=${i},${c}&timestamp=${f}&key=${e}`;return new Promise((t,s)=>{fetch(r).then(o=>o.json()).then(o=>{if(o&&o.status=="OK"){const a=Math.ceil(o.rawOffset/3600),n=Math.ceil(o.dstOffset/3600);t({bool:!0,num:a,numX:n})}else s({bool:!1,error:o}),console.log("No data found, or query failed, please check the network or contact the administrator!")}).catch(o=>{s({bool:!1,error:o})})})}function H(c,i="week"){if(!c)return;const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"];return i=="month"?f[c.getMonth()]:e[c.getDay()]}const h=c=>(G("data-v-59472550"),c=c(),W(),c),Y={class:"home flexCCC"},q={class:"flexCSS color6"},K=h(()=>l("h2",{class:"font47"},"OpenJetlag Calculator",-1)),Q=h(()=>l("p",{class:"font18 color7"},[y(" Traveling across the globe can be thrilling, but landing in a new time zone with your body clock lagging hours behind is less so. You're tired and out of sync. That's where OpenJetLag steps in. "),l("br"),y(" OpenJetLag, your go-to tool for seamless travel transitions. Simply input your flight details and sleep habits. OpenJetLag offers personalized, scientifically backed recommendations to help you adjust to new time zones swiftly and effortlessly AFTER arrival. ")],-1)),Z={class:"flexCB font18"},R={class:"flexCB font18"},ee={class:"flex"},te=h(()=>l("li",null,[l("h2",{class:"font16 fwNo"},"Origin"),l("input",{id:"cityStart",type:"text",placeholder:"Departure city"})],-1)),ne=h(()=>l("h2",{class:"font16 fwNo"},"Arrival time at destination",-1)),oe=h(()=>l("input",{id:"cityEnd",type:"text",placeholder:"Arrival city"},null,-1)),se={class:"flexCS"},ae={class:"flexCB"},le=h(()=>l("span",{class:"flexCCC colorF09"},[y(" This webpage is brought to you by Will Zhang and Lucy Zhai as a community project aimed at educating our community about sleep and jetlag. We extend our heartfelt gratitude to Professor Argelinda Baroni and Professor Jess P. Shatkin for their invaluable insights and expertise on jet lag which have greatly enriched the content and resources available on this site. "),l("span",null,"Contact us at: openjetlag@gmail.com")],-1)),ie={__name:"home",setup(c){const i=x({down:new Date("2000-01-01 18:00:00"),up:new Date("2000-01-02 06:00:00")}),e=x({start:"",end:"",endDate:new Date(p(new Date,"date")+" 00:00:00"),endTime:new Date("2000-01-01 12:00:00")}),f=async()=>{if(!e.start)return w.warning("Please select the correct Departure city!");if(!e.end)return w.warning("Please select the correct Arrival city!");const r=await N(e.start);if(r.bool)e.start.num=r.num,e.start.numX=r.numX;else return w.warning("Get city time difference anomaly!");const t=await N(e.end);if(t.bool)e.end.num=t.num,e.end.numX=t.numX;else return w.warning("Get city time difference anomaly!");sessionStorage.setItem("list",JSON.stringify([]));const s=e.start.num+e.start.numX,o=e.end.num+e.end.numX;let a=Math.abs(s-o);if(a<=3||a>=21)return sessionStorage.setItem("list",JSON.stringify([])),$.push({path:"/page",query:{}});a>12&&(a=24-a);const n=60*60*1e3,m=(i.up-i.down)/n,T=p(e.endDate,"date"),V=p(i.up,"time"),b=new Date(`${T} ${V}`).getTime();let u=b-3*n;m<=7&&(u=b-2*n);let S=o-s;new Date(e.endTime).getHours()>=18&&(S+=24),u=new Date(u).getTime()+S*n;const v=e.end.lat>e.start.lat;let M=[];const J=p(i.down,"timeHM"),O=p(i.up,"timeHM"),D=v?-1*n:n;u=new Date(u).getTime();for(let d=0;d<a;d++){const A=H(new Date(u+24*n*d)),P=new Date(new Date(u+24*n*d)).getDate(),B=H(new Date(u+24*n*d),"month"),C=p(u+D*d+24*n*d,"timeHM"),E=p(u-4*n+D*d+24*n*d,"timeHM"),F=p(u+4*n+D*d+24*n*d,"timeHM");M.push({bool:v,title:`${A} ${P}TH ${B}`,start:`${E}-${C}`,end:`${C}-${F}`,sleep:`${J}-${O}`})}return sessionStorage.setItem("list",JSON.stringify(M)),$.push({path:"/page",query:{}})};return z(()=>{const r=new google.maps.places.Autocomplete(document.getElementById("cityStart"),{types:["(cities)"],fields:["geometry"]});r.addListener("place_changed",()=>{const s=r.getPlace();e.start={lng:s.geometry.location.lng(),lat:s.geometry.location.lat()}});const t=new google.maps.places.Autocomplete(document.getElementById("cityEnd"),{types:["(cities)"],fields:["geometry"]});t.addListener("place_changed",()=>{const s=t.getPlace();e.end={lng:s.geometry.location.lng(),lat:s.geometry.location.lat()}})}),L(()=>{}),(r,t)=>{const s=_("calendar"),o=_("el-icon"),a=_("el-time-picker"),n=_("el-date-picker");return U(),j("div",Y,[l("div",q,[K,Q,l("div",Z,[y(" When do you normally go to sleep? "),g(a,{modelValue:i.down,"onUpdate:modelValue":t[0]||(t[0]=m=>i.down=m),"popper-class":"timePickerDiv",clearable:!1},{suffix:k(()=>[g(o,{class:"el-input__icon"},{default:k(()=>[g(s)]),_:1})]),_:1},8,["modelValue"])]),l("div",R,[y(" When do you normally wake up? "),g(a,{modelValue:i.up,"onUpdate:modelValue":t[1]||(t[1]=m=>i.up=m),"popper-class":"timePickerDiv",clearable:!1},null,8,["modelValue"])]),l("ul",ee,[te,l("li",null,[ne,oe,l("span",se,[g(n,{modelValue:e.endDate,"onUpdate:modelValue":t[2]||(t[2]=m=>e.endDate=m),type:"date",clearable:!1},null,8,["modelValue"]),g(a,{modelValue:e.endTime,"onUpdate:modelValue":t[3]||(t[3]=m=>e.endTime=m),"popper-class":"timePickerDiv",clearable:!1},null,8,["modelValue"])])])]),l("ol",ae,[l("li",{class:"flexCC font20 colorF09 cur tran",onClick:t[4]||(t[4]=m=>X($).push({path:"/info",query:{}}))}," FAQs "),l("li",{class:"flexCC font20 colorF09 cur tran",onClick:f}," Get Plan ")])]),le])}}},ue=I(ie,[["__scopeId","data-v-59472550"]]);export{ue as default};
